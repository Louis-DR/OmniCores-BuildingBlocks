# Binary to Grey Encoder

|         |                                                                                  |
| ------- | -------------------------------------------------------------------------------- |
| Module  | Binary to Grey Encoder                                                           |
| Project | [OmniCores-BuildingBlocks](https://github.com/Louis-DR/OmniCores-BuildingBlocks) |
| Author  | Louis Duret-Robert - [louisduret@gmail.com](mailto:louisduret@gmail.com)         |
| Website | [louis-dr.github.io](https://louis-dr.github.io)                                 |
| License | MIT License - [mit-license.org](https://mit-license.org)                         |

## Overview

![binary_to_grey](binary_to_grey.symbol.svg)

Converts binary numbers to Grey code (also known as reflected binary code). Grey code is a binary numeral system where two successive values differ in only one bit. This property makes Grey code particularly useful in applications where minimizing switching transitions is important, such as rotary encoders, analog-to-digital converters, and Karnaugh maps.

## Parameters

| Name    | Type    | Allowed Values | Default | Description                           |
| ------- | ------- | -------------- | ------- | ------------------------------------- |
| `WIDTH` | integer | `≥1`           | `8`     | Bit width of the binary/grey vectors. |

## Ports

| Name     | Direction | Width   | Clock | Reset | Reset value | Description                 |
| -------- | --------- | ------- | ----- | ----- | ----------- | --------------------------- |
| `binary` | input     | `WIDTH` |       |       |             | Binary input to be encoded. |
| `grey`   | output    | `WIDTH` |       |       |             | Grey code output.           |

## Operation

The binary-to-grey conversion follows a simple algorithm where each bit of the Grey code is generated by XORing adjacent bits of the binary input. The most significant bit (MSB) of the Grey code is the same as the MSB of the binary input. For all other positions `i`, the Grey code bit is computed as `grey[i] = binary[i+1] ^ binary[i]`.

This ensures that consecutive binary numbers produce Grey codes that differ by exactly one bit, which is the fundamental property of Grey code sequences.

## Paths

| From     | To     | Type          | Comment                            |
| -------- | ------ | ------------- | ---------------------------------- |
| `binary` | `grey` | combinatorial | Direct XOR-based conversion logic. |

## Complexity

| Delay  | Gates      | Comment                                   |
| ------ | ---------- | ----------------------------------------- |
| `O(1)` | `O(WIDTH)` | Single level of XOR gates for conversion. |

The conversion requires `WIDTH-1` XOR gates and has a constant propagation delay independent of the bit width, making it highly efficient for real-time applications.

## Verification

The binary-to-grey encoder is verified using a comprehensive SystemVerilog testbench that validates both the conversion correctness and the fundamental Grey code properties. The testbench instanciates and verifies both the `binary_to_grey` and `grey_to_binary` modules.

The following table lists the checks performed by the testbench.

| Number | Check           | Description                                                                            |
| ------ | --------------- | -------------------------------------------------------------------------------------- |
| 1a     | Exhaustive test | If `WIDTH` ≤ 10, checks the Grey code and its properties for all binary input values . |
| 1b     | Random test     | If `WIDTH` > 10, checks the Grey code and its properties for random sequences.         |

The following table lists the parameter values verified by the testbench.

| `WIDTH` |           |
| ------- | --------- |
| 8       | (default) |

## Constraints

There are no synthesis and implementation constraints for this block.

## Deliverables

| Type              | File                                                           | Description                                         |
| ----------------- | -------------------------------------------------------------- | --------------------------------------------------- |
| Design            | [`binary_to_grey.v`](binary_to_grey.v)                         | Verilog design.                                     |
| Testbench         | [`grey.testbench.sv`](grey.testbench.sv)                       | SystemVerilog verification shared testbench.        |
| Waveform script   | [`grey.testbench.gtkw`](grey.testbench.gtkw)                   | Script to load the waveforms in GTKWave.            |
| Symbol descriptor | [`binary_to_grey.symbol.sss`](binary_to_grey.symbol.sss)       | Symbol descriptor for SiliconSuite-SymbolGenerator. |
| Symbol image      | [`binary_to_grey.symbol.svg`](binary_to_grey.symbol.svg)       | Generated vector image of the symbol.               |
| Symbol shape      | [`binary_to_grey.symbol.drawio`](binary_to_grey.symbol.drawio) | Generated DrawIO shape of the symbol.               |
| Datasheet         | [`binary_to_grey.md`](binary_to_grey.md)                       | Markdown documentation datasheet.                   |

## Dependencies

This module has no external module dependencies.

## Related modules

| Module                                              | Path                                               | Comment                    |
| --------------------------------------------------- | -------------------------------------------------- | -------------------------- |
| [`grey_to_binary`](grey_to_binary.md)               | `omnicores-buildingblocks/sources/encoding/grey`   | Grey to binary decoder.    |
| [`binary_to_onehot`](../onehot/binary_to_onehot.md) | `omnicores-buildingblocks/sources/encoding/onehot` | Binary to one-hot encoder. |
| [`binary_to_bcd`](binary_to_bcd.md)                 | `omnicores-buildingblocks/sources/encoding/bcd`    | Binary to BCD encoder.     |
